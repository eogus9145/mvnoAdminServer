<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="telecentro.include._customer_name_modify_popup">
	<select id="_customer_name_modify_popup_cust_info" parameterType="map" resultType="egovMap">
		<if test="page_telco == 'LGT'">
			SELECT CNMLOB NO_CUST_FRST_NM, SERVICE_NUMBER NO_SERVICE_NUMBER
			FROM ${db.mainschema}.LGT_SUB A, ${db.mainschema}.LGT_CUS B
			WHERE CONTRACT_NUM = #{account}
			AND A.CUSTOMER_ID = B.CUSTOMER_ID
		</if>
		<if test="page_telco == 'SKT'">
			SELECT CUST_FRST_NM NO_CUST_FRST_NM, SERVICE_NUMBER NO_SERVICE_NUMBER
			FROM SKT_CUSTOMER A
			WHERE A.SERVICE_ACCOUNT = #{account}
		</if>
	</select>
	
	<select id="_customer_name_modify_popup_cust_info_update" parameterType="map" resultType="egovMap" statementType="CALLABLE">
		CALL ${db.mainschema}.P_ADMIN_CUST_NAME_CHANGE(
		#{op_code,mode=IN,jdbcType=VARCHAR},
		#{telco,mode=IN,jdbcType=VARCHAR},
		#{service_account,mode=IN,jdbcType=VARCHAR},
		#{new_name,mode=IN,jdbcType=VARCHAR},
		#{SESSION_ADM_ID,mode=IN,jdbcType=VARCHAR},
		#{SESSION_ADM_LANG,mode=IN,jdbcType=VARCHAR},
		#{SESSION_ADM_IP,mode=IN,jdbcType=VARCHAR},
		#{SESSION_ADM_BROWSER,mode=IN,jdbcType=VARCHAR},
		#{SESSION_ADM_DB_SESSION,mode=IN,jdbcType=VARCHAR},
		#{o_ret_cd,mode=OUT,jdbcType=VARCHAR},
		#{o_ret_msg,mode=OUT,jdbcType=VARCHAR}
		)
	</select>
	
</mapper>